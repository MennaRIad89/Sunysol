{% extends 'layout.html' %}

{% block content %}
<!-- Testing update - you should see new content if this is visible -->
<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
                <div class="flash-message {{ category }}">
                    {{ message }}
                    <button class="close-flash">&times;</button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<!-- Home Section -->
<section id="home" class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1>{{ g.translations.hero_title }}</h1>
        <h2>{{ g.translations.hero_subtitle }}</h2>
        <p>{{ g.translations.hero_description }}</p>
        <div class="hero-buttons">
            <a href="#tours" class="btn primary-btn">{{ g.translations.explore_tours }}</a>
            <a href="#contact" class="btn secondary-btn">{{ g.translations.contact_us }}</a>
        </div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="about-section">
    <div class="container">
        <div class="section-header" id="updated-section">
            <h2>{{ g.translations.about_title }}</h2>
            <div class="divider"></div>
        </div>
        <div class="about-content">
            <div class="about-image">
                <img src="{{ url_for('static', filename='images/Meet Menna.jpg') }}" alt="Menna, your tour guide" />
            </div>
            <div class="about-text">
                <h3>{{ g.translations.about_subtitle }}</h3>
                
                <p class="about-intro">{{ g.translations.about_description }}</p>
                
                <p>{{ g.translations.about_quote }}</p>
                
                <div class="about-quote">
                    <p><em>With me, you don't just visit the UAE.</em></p>
                    <p><strong style="color: #e27d60;">You experience it</strong> — personally, passionately, and in your own language.</p>
                </div>
                
                <div class="guide-credentials">
                    <div class="credential">
                        <i class="fas fa-certificate"></i>
                        <span>{{ g.translations.about_credentials }}</span>
                    </div>
                    <div class="credential">
                        <i class="fas fa-language"></i>
                        <span>{{ g.translations.about_languages }}</span>
                    </div>
                    <div class="credential">
                        <i class="fas fa-users"></i>
                        <span>{{ g.translations.about_expertise }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Tours Section -->
<section id="tours" class="tours-section">
    <div class="container">
        <div class="section-header">
            <h2>{{ g.translations.tours_title or "Our Tours" }}</h2>
            <div class="divider"></div>
            <p>{{ g.translations.tours_intro_text or "Whether you're looking for adventure, culture, or simply a memorable time with your loved ones, I'll make sure you have fun, feel relaxed, and enjoy every moment of your journey through the UAE." }}</p>
        </div>
        
        <div class="city-blocks-row">
            <!-- Dubai Tours Block -->
            <a href="/dubai-tours" class="city-block-small">
                <div class="city-image-small">
                    <img src="https://images.unsplash.com/photo-1512453979798-5ea266f8880c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Dubai Skyline" />
                    <div class="city-overlay-small">
                        <h3>Dubai Tours</h3>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </a>
            
            <!-- Abu Dhabi Tours Block -->
            <a href="/abudhabi-tours" class="city-block-small">
                <div class="city-image-small">
                    <img src="{{ url_for('static', filename='images/SZ_MSQ.jpg') }}" alt="Abu Dhabi Sheikh Zayed Mosque" />
                    <div class="city-overlay-small">
                        <h3>Abu Dhabi Tours</h3>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </a>
            
            <!-- Northern Emirates Tours Block -->
            <a href="/northern-emirates-tours" class="city-block-small">
                <div class="city-image-small">
                    <img src="{{ url_for('static', filename='images/SHJ_Tour.jpg') }}" alt="Northern Emirates Mountains" />
                    <div class="city-overlay-small">
                        <h3>Northern Emirates Tours</h3>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </a>
        </div>
    </div>
</section>

<!-- Travel Agencies Section -->
<section id="agencies" class="agencies-section">
    <div class="container">
        <div class="section-header">
            <h2>{{ g.translations.homepage_agencies_title or "For Travel Agencies" }}</h2>
            <div class="divider"></div>
        </div>
        <div class="agencies-content">
            <div class="agencies-image">
                <img src="{{ url_for('static', filename='images/partner-collaboration.png') }}" alt="Travel Agency Collaboration" />
            </div>
            <div class="agencies-text">
                <h3>{{ g.translations.homepage_agencies_subtitle or "For Travel Agencies & Tour Operators" }}</h3>
                <p>{{ g.translations.homepage_agencies_description or "If you're a travel agency or tour operator looking to collaborate in the UAE, click below to learn more about our partnership programs." }}</p>
                
                <p class="partnership-intro">{{ g.translations.homepage_agencies_intro or "Explore flexible collaboration models tailored for travel professionals." }}</p>
                
                <div class="agency-benefits">
                    <div class="benefit">
                        <i class="fas fa-percentage"></i>
                        <h4>{{ g.translations.homepage_benefit_commission or "Commission-Based" }}</h4>
                        <p>{{ g.translations.homepage_benefit_commission_desc or "Competitive commission structure with clear terms and transparent payments." }}</p>
                    </div>
                    <div class="benefit">
                        <i class="fas fa-tag"></i>
                        <h4>{{ g.translations.homepage_benefit_whitelabel or "White-Label Options" }}</h4>
                        <p>{{ g.translations.homepage_benefit_whitelabel_desc or "Your brand, my service – seamless integration with your company image." }}</p>
                    </div>
                    <div class="benefit">
                        <i class="fas fa-calculator"></i>
                        <h4>{{ g.translations.homepage_benefit_pricing or "Custom Pricing" }}</h4>
                        <p>{{ g.translations.homepage_benefit_pricing_desc or "Flexible per-tour or package booking options to suit your business model." }}</p>
                    </div>
                    <div class="benefit">
                        <i class="fas fa-handshake"></i>
                        <h4>{{ g.translations.homepage_benefit_longterm or "Long-Term Collaborations" }}</h4>
                        <p>{{ g.translations.homepage_benefit_longterm_desc or "Develop ongoing relationships with preferred status and enhanced benefits." }}</p>
                    </div>
                </div>
                
                <a href="/agencies" class="btn primary-btn">{{ g.translations.homepage_agencies_learn_more or "Learn More" }}</a>
            </div>
        </div>
    </div>
</section>

<!-- Gallery Section -->
<section id="galleries" class="galleries-section">
    <div class="container">
        <div class="section-header">
            <h2>{{ g.translations.gallery_title or "Our Gallery" }}</h2>
            <div class="divider"></div>
            <p>{{ g.translations.gallery_description or "Take a closer look at our past adventures with Menna and her guests. Each picture tells a story of discovery, friendship, and unforgettable moments." }}</p>
        </div>
        <div class="gallery-preview-grid">
            <button class="gallery-carousel-nav prev" id="gallery-prev">&#8249;</button>
            <div class="gallery-carousel-container">
                <div class="gallery-carousel" id="gallery-carousel">
                    {% for image in gallery_images %}
                        <img src="{{ url_for('static', filename=image.src) }}" alt="{{ image.alt }}" class="gallery-thumb" loading="lazy" decoding="async">
                    {% endfor %}
                </div>
            </div>
            <button class="gallery-carousel-nav next" id="gallery-next">&#8250;</button>
        </div>
    </div>
</section>

<!-- Reviews Section -->
<section id="reviews" class="reviews-section">
    <div class="container">
        <div class="section-header">
            <h2>{{ g.translations.reviews_title or "What Our Guests Say" }}</h2>
            <div class="divider"></div>
        </div>
        
        <div class="reviews-container">
            <!-- Recent Reviews Display -->
            <div class="reviews-display">
                {% for review in reviews %}
                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <div class="reviewer-photo">
                                {% if review.photos and review.photos|length > 0 %}
                                    <img src="{{ url_for('static', filename='review_photos/' + review.photos[0]) }}" alt="{{ review.name }}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                {% endif %}
                                <div class="default-avatar" {% if review.photos and review.photos|length > 0 %}style="display: none;"{% endif %}>
                                    <i class="fas fa-user"></i>
                                </div>
                            </div>
                            <div class="reviewer-details">
                                <h4>{{ review.name }}</h4>
                                {% if review.country %}
                                    <div class="reviewer-country">{{ review.country }}</div>
                                {% endif %}
                                <div class="stars">
                                    {% for i in range(5) %}
                                        {% if i < review.rating %}
                                            <i class="fas fa-star"></i>
                                        {% else %}
                                            <i class="far fa-star"></i>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="review-content">
                        <p>"{{ review.comment }}"</p>
                        {% if review.photos and review.photos|length > 1 %}
                            <div class="review-photos">
                                {% for photo in review.photos[1:] %}
                                    <img src="{{ url_for('static', filename='review_photos/' + photo) }}" alt="Review photo" class="additional-photo">
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}

                <div class="see-all-reviews">
                    <a href="/all-reviews" class="btn secondary-btn">{{ g.translations.see_all_reviews or "See All Reviews" }}</a>
                </div>
            </div>

            <!-- Review Form -->
            <div class="review-form-container">
                <h3>{{ g.translations.leave_review or "Leave a Review" }}</h3>
                <form action="/submit_review" method="post" class="review-form" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="review-name">{{ g.translations.review_name or "Name" }}</label>
                        <input type="text" id="review-name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-country">{{ g.translations.review_country or "Country" }}</label>
                        <select id="review-country" name="country" class="country-select">
                            <option value="">{{ g.translations.select_country or "Select your country..." }}</option>
                            <option value="Afghanistan">Afghanistan</option>
                            <option value="Albania">Albania</option>
                            <option value="Algeria">Algeria</option>
                            <option value="Angola">Angola</option>
                            <option value="Argentina">Argentina</option>
                            <option value="Armenia">Armenia</option>
                            <option value="Australia">Australia</option>
                            <option value="Austria">Austria</option>
                            <option value="Azerbaijan">Azerbaijan</option>
                            <option value="Bahrain">Bahrain</option>
                            <option value="Bangladesh">Bangladesh</option>
                            <option value="Belarus">Belarus</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Bolivia">Bolivia</option>
                            <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                            <option value="Brazil">Brazil</option>
                            <option value="Bulgaria">Bulgaria</option>
                            <option value="Cambodia">Cambodia</option>
                            <option value="Canada">Canada</option>
                            <option value="Chile">Chile</option>
                            <option value="China">China</option>
                            <option value="Colombia">Colombia</option>
                            <option value="Costa Rica">Costa Rica</option>
                            <option value="Croatia">Croatia</option>
                            <option value="Cuba">Cuba</option>
                            <option value="Cyprus">Cyprus</option>
                            <option value="Czech Republic">Czech Republic</option>
                            <option value="Denmark">Denmark</option>
                            <option value="Dominican Republic">Dominican Republic</option>
                            <option value="Ecuador">Ecuador</option>
                            <option value="Egypt">Egypt</option>
                            <option value="Estonia">Estonia</option>
                            <option value="Ethiopia">Ethiopia</option>
                            <option value="Finland">Finland</option>
                            <option value="France">France</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Germany">Germany</option>
                            <option value="Ghana">Ghana</option>
                            <option value="Greece">Greece</option>
                            <option value="Guatemala">Guatemala</option>
                            <option value="Honduras">Honduras</option>
                            <option value="Hungary">Hungary</option>
                            <option value="Iceland">Iceland</option>
                            <option value="India">India</option>
                            <option value="Indonesia">Indonesia</option>
                            <option value="Iran">Iran</option>
                            <option value="Iraq">Iraq</option>
                            <option value="Ireland">Ireland</option>
                            <option value="Israel">Israel</option>
                            <option value="Italy">Italy</option>
                            <option value="Jamaica">Jamaica</option>
                            <option value="Japan">Japan</option>
                            <option value="Jordan">Jordan</option>
                            <option value="Kazakhstan">Kazakhstan</option>
                            <option value="Kenya">Kenya</option>
                            <option value="Kuwait">Kuwait</option>
                            <option value="Latvia">Latvia</option>
                            <option value="Lebanon">Lebanon</option>
                            <option value="Libya">Libya</option>
                            <option value="Lithuania">Lithuania</option>
                            <option value="Luxembourg">Luxembourg</option>
                            <option value="Malaysia">Malaysia</option>
                            <option value="Malta">Malta</option>
                            <option value="Mexico">Mexico</option>
                            <option value="Moldova">Moldova</option>
                            <option value="Morocco">Morocco</option>
                            <option value="Nepal">Nepal</option>
                            <option value="Netherlands">Netherlands</option>
                            <option value="New Zealand">New Zealand</option>
                            <option value="Nicaragua">Nicaragua</option>
                            <option value="Nigeria">Nigeria</option>
                            <option value="North Macedonia">North Macedonia</option>
                            <option value="Norway">Norway</option>
                            <option value="Oman">Oman</option>
                            <option value="Pakistan">Pakistan</option>
                            <option value="Panama">Panama</option>
                            <option value="Paraguay">Paraguay</option>
                            <option value="Peru">Peru</option>
                            <option value="Philippines">Philippines</option>
                            <option value="Poland">Poland</option>
                            <option value="Portugal">Portugal</option>
                            <option value="Qatar">Qatar</option>
                            <option value="Romania">Romania</option>
                            <option value="Russia">Russia</option>
                            <option value="Saudi Arabia">Saudi Arabia</option>
                            <option value="Serbia">Serbia</option>
                            <option value="Singapore">Singapore</option>
                            <option value="Slovakia">Slovakia</option>
                            <option value="Slovenia">Slovenia</option>
                            <option value="South Africa">South Africa</option>
                            <option value="South Korea">South Korea</option>
                            <option value="Spain">Spain</option>
                            <option value="Sri Lanka">Sri Lanka</option>
                            <option value="Sudan">Sudan</option>
                            <option value="Sweden">Sweden</option>
                            <option value="Switzerland">Switzerland</option>
                            <option value="Syria">Syria</option>
                            <option value="Taiwan">Taiwan</option>
                            <option value="Thailand">Thailand</option>
                            <option value="Tunisia">Tunisia</option>
                            <option value="Turkey">Turkey</option>
                            <option value="Ukraine">Ukraine</option>
                            <option value="UAE">United Arab Emirates</option>
                            <option value="United Kingdom">United Kingdom</option>
                            <option value="United States">United States</option>
                            <option value="Uruguay">Uruguay</option>
                            <option value="Venezuela">Venezuela</option>
                            <option value="Vietnam">Vietnam</option>
                            <option value="Yemen">Yemen</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-email">{{ g.translations.review_email or "Email" }}</label>
                        <input type="email" id="review-email" name="email" required placeholder="{{ g.translations.review_email_placeholder or 'Your email (not shown publicly)' }}">
                    </div>
                    
                    <div class="form-group">
                        <label>{{ g.translations.rating or "Rating" }}</label>
                        <div class="rating-input">
                            <input type="radio" id="star5" name="rating" value="5" required>
                            <label for="star5"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2"><i class="fas fa-star"></i></label>
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1"><i class="fas fa-star"></i></label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-comment">{{ g.translations.review_comment or "Your Review" }}</label>
                        <textarea id="review-comment" name="comment" rows="4" required placeholder="{{ g.translations.review_placeholder or 'Tell us about your experience...' }}"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="review-photos">{{ g.translations.review_photos or "Photos (Optional)" }}</label>
                        <input type="file" id="review-photos" name="photos" accept="image/*" multiple>
                        <small class="form-help">{{ g.translations.review_photos_help or "You can select multiple photos" }}</small>
                    </div>
                    
                    <button type="submit" class="btn primary-btn review-submit">{{ g.translations.submit_review or "Submit Review" }}</button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="contact-section">
    <div class="container">
        <div class="section-header">
            <h2>{{ g.translations.homepage_contact_title or "Get In Touch" }}</h2>
            <div class="divider"></div>
            <p>{{ g.translations.homepage_contact_description or "Ready to explore the UAE with us? Have questions about our tours? We'd love to hear from you!" }}</p>
        </div>
        
        <div class="contact-container">
            <div class="contact-info">
                <h3>{{ g.translations.homepage_contact_planning_title or "Let's Start Planning Your Adventure" }}</h3>
                <p>{{ g.translations.homepage_contact_planning_desc or "Whether you're just starting to plan your trip or ready to book, we're here to help make your UAE experience unforgettable. No pressure, just friendly advice and expert guidance." }}</p>
                
                <div class="contact-methods">
                    <div class="contact-method">
                        <i class="fab fa-whatsapp"></i>
                        <div class="method-details">
                            <h4>{{ g.translations.homepage_contact_whatsapp or "WhatsApp" }}</h4>
                            <p>{{ g.translations.homepage_contact_whatsapp_desc or "For quick questions and immediate assistance" }}</p>
                            <a href="https://wa.me/971564649609" class="whatsapp-btn">
                                <i class="fab fa-whatsapp"></i> {{ g.translations.homepage_contact_whatsapp_btn or "Contact via WhatsApp" }}
                            </a>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <i class="fas fa-envelope"></i>
                        <div class="method-details">
                            <h4>{{ g.translations.homepage_contact_email or "Email" }}</h4>
                            <p>{{ g.translations.homepage_contact_email_desc or "For detailed inquiries and bookings" }}</p>
                            <a href="mailto:info@sunysol.ae">info@sunysol.ae</a>
                        </div>
                    </div>
                </div>
                
                <div class="social-follow">
                    <h4>{{ g.translations.homepage_contact_follow or "Follow Us" }}</h4>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/profile.php?id=61577658010843" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/sunysoluae/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="contact-form-container">
                <h3>{{ g.translations.homepage_contact_form_title or "Send Us a Message" }}</h3>
                <form action="/send_message" method="post" class="contact-form">
                    <div class="form-group">
                        <label for="contact-name">Name</label>
                        <input type="text" id="contact-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-email">Email</label>
                        <input type="email" id="contact-email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="traveler-type">I am a:</label>
                        <select id="traveler-type" name="traveler_type" required>
                            <option value="">Select an option...</option>
                            <option value="Solo Traveler">Solo Traveler</option>
                            <option value="Couple">Couple</option>
                            <option value="Family">Family with Kids</option>
                            <option value="Group">Group of Friends</option>
                            <option value="Travel Agency">Travel Agency</option>
                            <option value="Corporate">Corporate Client</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="contact-message">Message</label>
                        <textarea id="contact-message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn primary-btn">Send Message</button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Structured Data for Local Business -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Sun y Sol Tours",
    "description": "Professional Spanish-speaking tour guide in UAE offering private tours in Dubai, Abu Dhabi and Northern Emirates",
    "url": "https://sunysol.ae",
    "telephone": "+971564649609",
    "email": "info@sunysol.ae",
    "address": {
        "@type": "PostalAddress",
        "addressCountry": "AE",
        "addressRegion": "Dubai"
    },
    "geo": {
        "@type": "GeoCoordinates",
        "latitude": "25.2048",
        "longitude": "55.2708"
    },
    "openingHours": "Mo-Su 08:00-20:00",
    "priceRange": "$$",
    "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "UAE Tours",
        "itemListElement": [
            {
                "@type": "Offer",
                "itemOffered": {
                    "@type": "Service",
                    "name": "Dubai Private Tours",
                    "description": "Private guided tours of Dubai including modern and heritage attractions"
                }
            },
            {
                "@type": "Offer", 
                "itemOffered": {
                    "@type": "Service",
                    "name": "Abu Dhabi Tours",
                    "description": "Comprehensive tours of Abu Dhabi including Sheikh Zayed Mosque and cultural sites"
                }
            },
            {
                "@type": "Offer",
                "itemOffered": {
                    "@type": "Service", 
                    "name": "Northern Emirates Tours",
                    "description": "Explore the hidden gems of Sharjah, Ajman, Fujairah and the Hajar Mountains"
                }
            }
        ]
    }
}
</script>

{% endblock %}
